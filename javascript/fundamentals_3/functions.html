<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functions</title>
</head>
<body>
    <script>
        /*Functions - resulable blocks of code
        
        Functions allow us to call in blocks of code using a single keyword - these are basically what we use in Java and C# and often look like this:
        
        myFunction(); //This is actually a method! Don't get confused!
        
        So we know the basics already! We've already been using functions in the console:*/

        const myText = "I am a string";
        const newString = myText.replace("string", "sausage"); //replace() is a function!
        console.log(newString);

        //another example is the random() function with maths commands:

        const myNumber = Math.random();

        /*Function vs Methods
        
        Functions are part of objects called methods. */

        /*Invoking functions
        
        This is simply done by writing out the name of the function:*/

        function myFunction()
        {
            alert("Hello");
        }

        myFunction(); //calls (invokes) the function once

        //Some functions need parameters to be passed into them in order for them to work. The replace() function used at the start of this file required it!

        //Sometimes parameters are optional, but not including them will leave different results:

        const myArray = ['I', 'love', 'chocolate', 'frogs'];
        const madeAString = myArray.join(' ');
        console.log(madeAString);
        // returns 'I love chocolate frogs'

        const madeAnotherString = myArray.join();
        console.log(madeAnotherString);
        // returns 'I,love,chocolate,frogs'

        /*Default parameters
        
        You can also create default parameters in case no parameters are set when invoking the function:*/

        function hello(name = "Chris") //here we give the default name
        {
            console.log(`Hello ${name}!`); //here we state that if a name is given, that name should be implemented
        }

        hello("Ari"); //Hello Ari!
        hello();      //Hello Chris!

        /*Anonymous function
        
        Sometimes functions are not given names. This is called an anonymous function, because it has no name. You'll often see these when a function expects to recieve
        another function as a parameter. In this case, the function parameter is often passed as an anonymous function.*/

        (function ()
        {
            alert("What's up?");
        })

        /*Anonymous function example
        
        Let's say you want to run some code when the user types into a text box. To do this, you can call the addEventListener() function of the text boc. This function expects you to pass in (at least) two parameters:
        
            1. The name of the event to list for, which in this case is "keydown".
            2. A function to run when the even happens.
            
        When the user presses a key, the browser will call the function you provided, and will pass in a parameter containing information about this event, including the 
        particular key that the user pressed:*/

        function logKey(event) 
        {
            console.log(`You pressed "${event.key}".`);
        }

        textBox.addEventListener("keydown", logKey);

        //instead of defining a seperate logKey() function, you can pass an anonymous function into addEventListener:

        textBox.addEventListener("keydown", function(event)
        {
            console.log(`You pressed "${event.key}".`);
        })

        /*Arrow functions
        
        If you pass an anon function like this, there's an alternative form you can use, called an arrow function. Instead of function(event), you wrint (event) => */

        textBox.addEventListener('keydown', (event) => 
        {
        console.log(`You pressed "${event.key}".`);
        });

        //If the function only has one line in the curly brackets, you omit the curly brackets:

        textBox.addEventListener('keydown', (event) => 
        console.log(`You pressed "${event.key}".`));

        /*Finally, if you function needs to return a value, and contains only one line, you can also omit the return statement:*/

        const originals = [1, 2, 3];

        const doubled = originals.map((item) => item * 2);

        console.log(doubled); // [2, 4, 6]

        //So, (item) => item * 2 is the arrow function equivalent of:

        function doubleItem(item)
        {
            return item * 2;
        }

        //got to function scope and conflicts

        const textBox = document.querySelector("#textBox"); //this is how you reference a class in JS!
        const output = document.querySelector("#output");

        textBox.addEventListener('keydown', (event) => output.textContent = `You pressed "${event.key}".`);


    </script>

    <input id="textBox" type="text"></input>
    <div id="output"></div>

</body>
</html>